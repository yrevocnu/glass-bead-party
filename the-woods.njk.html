{% set woods_color = "#7BC8A4" %}

{% macro anim() %}
<a-animation attribute="rotation"
     dur="10000"
     fill="forwards"
     to="109.471 0 0"></a-animation>
{% endmacro %}

<!-- We're gonna make a lot of triangles -->
{% macro tri(side='front') %}
<a-triangle position="0 0 .5"
            material="src: #branches; side: {{ side }}"
            vertex-a="0 1.5 -.5"
            vertex-b="-.866 0 0"
            vertex-c=".866 0 0"
            shadow>
    {{ anim() }}
</a-triangle>
{% endmacro %}

<!-- can provide an attribute:  rotation="45 45 -45" -->
<a-entity position="0 0 -10">
  <!--a-tetrahedron mixin="house" rotation="35 -46 -46" radius="1.25"
      position="0 0.7 0" color="mediumseagreen" shadow></a-tetrahedron-->
  <a-entity position="0 .5 0" rotation="0 -45 0">
      <!-- Approximately front -->
      <a-entity>
        {{ tri() }}
        {{ tri('back') }}
      </a-entity>
      <!-- Approximate back / right -->
      <a-entity rotation="0 120 0">
        {{ tri() }}
        {{ tri('back') }}
      </a-entity>
      <!-- Approximate back / left -->
      <a-entity rotation="0 -120 0">
        {{ tri() }}
        {{ tri('back') }}
      </a-entity>
  </a-entity>
  <!-- NOTE for some reason, align doesn't work in a mixin -->
  <a-text mixin="title" value="TheWoods" align="center"></a-text>
  <a-text mixin="members" value="Amanda Perez / Dav Clark / Michael Pope" align="center">
  </a-text>
  <a-entity position="0 1.5 0"
      light="type: point; castShadow: true; intensity: 0.4; color: {{ woods_color }}">
  </a-entity>
  <a-plane rotation="-90 0 0" position="0 .01 0"
                              width="11" height="4"
                              color="{{ woods_color }}" shadow></a-plane>
</a-entity>


<a-entity obj-model="obj: #seahorse" position="0 1 -10" scale=".0015 .0015 .0015" material="color: magenta; metalness: .8" >
    <a-animation attribute="rotation" dur="4000"
       fill="forwards"
       to="0 360 0"
       repeat="indefinite"></a-animation>
      <a-animation attribute="position" from="0 1 -10" to="-9 1.2 5.3" dur="30000"></a-animation>
      <a-animation delay="25000" attribute="scale" from=".0015 .0015 .0015" to="0 0 0" dur="2000"></a-animation>
</a-entity>


<a-sphere position="-9 1.2 5.3" radius=".06" color = "#00FFFF" material="transparent: true; opacity: 0.5">
    <a-animation begin = "23000" attribute="position" from="-9 1.2 5.3" to="-9 3.2 5.3" dur="3000"></a-animation>
    <a-animation delay="26000" attribute="scale" from="1 1 1" to="0 0 0" dur="200"></a-animation>
</a-sphere>
<a-sphere position="-9 1.2 5.1" radius=".06" color = "#00FFFF" material="transparent: true; opacity: 0.5">
    <a-animation begin = "23500"  attribute="position" from="-9 1.2 5.2" to="-9 3.2 5.2" dur="3000"></a-animation>
    <a-animation delay="26500" attribute="scale" from="1 1 1" to="0 0 0" dur="200"></a-animation>
</a-sphere>
<a-sphere position="-9 1.2 4.9" radius=".06" color = "#00FFFF" material="transparent: true; opacity: 0.5">
    <a-animation begin = "25000" attribute="position" from="-9 1.2 5.1" to="-9 3.2 5.1" dur="3000"></a-animation>
    <a-animation delay="28000" attribute="scale" from="1 1 1" to="0 0 0" dur="200"></a-animation>
</a-sphere>

<a-sphere position="-9 1.2 5.1" radius=".06" color = "#ff0000" >
    <a-animation begin = "26000" attribute="position" from="-9 1.4 5.2" to="-9 3.2 5.2" dur="3000"></a-animation>
    <a-animation delay="29000" attribute="scale" from="1 1 1" to="0 0 0" dur="200"></a-animation>
</a-sphere>
<a-sphere position="-9 1.2 4.9" radius=".06" color = "#ff0000">
    <a-animation begin = "27000" attribute="position" from="-9 1.4 5.1" to="-9 3.2 5.1" dur="3000"></a-animation>
    <a-animation delay="30000" attribute="scale" from="1 1 1" to="0 0 0" dur="200"></a-animation>
</a-sphere>
<a-sphere position="-9 1.2 5.3" radius=".06" color = "#ff0000">
    <a-animation begin = "28000" attribute="position" from="-9 1.4 5.3" to="-9 3.2 5.3" dur="3000"></a-animation>
    <a-animation delay="30500" attribute="scale" from="1 1 1" to="0 0 0" dur="200"></a-animation>
</a-sphere>


<a-entity obj-model="obj: #skullbottom" position="-9 1.2 5.3" scale="0 0 0" rotation="-45 180 0" material="color: #00FFFF; metalness: .8">
  <a-animation delay="29500" attribute="scale" from="0 0 0" to=".002 .002 .002" dur="8000"></a-animation>
  <a-animation delay="29500" attribute="position" from="-9 1.2 5.3" to="-9 3.2 5.3" dur="8000"></a-animation>
</a-entity>
<a-entity obj-model="obj: #skulltop" position="-9 1.5 5.3" scale="0 0 0" rotation="-45 180 0"material="color: #00FFFF; metalness: .8">
  <a-animation delay="29500" attribute="scale" from="0 0 0" to=".002 .002 .002" dur="8000"></a-animation>
  <a-animation delay="29500" attribute="position" from="-9 1.5 5.3" to="-9 3.5 5.3" dur="8000"></a-animation>
</a-entity>
