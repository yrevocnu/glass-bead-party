<a-scene id="a-frame-container" inspector>
  <a-assets timeout="3000">
    <a-asset-item id="passion_ball" src="scene.gltf"></a-asset-item>
    <a-asset-item id="seahorse" src="seahorse.obj"></a-asset-item>


    <!-- question: can we programmatically update a mixin and trigger updates on the compoenents that use it? -->
    <a-mixin id="house"
             material="transparent: true; opacity: 0.9;"
             light="distance: 120; intensity: 1; type: point"
             shadow></a-mixin>
    <!-- elements with this mixin still need to specify light color and other geometry / shape properties -->
    <img id="stars" src="stars.png">
    <img id="groundTexture" src="homeworld-surface.png">

    <a-mixin id="title"
             position="0 2.5 0"
             scale="1.5 1.5 1.5"></a-mixin>
    <a-mixin id="members"
             position="0 2.1 0"></a-mixin>

    <a-mixin id="score"
             position="0 7 -2"
             width="15"
             align="center">

    <!-- Texture samples -->
    <img id="sand" crossorigin="anonymous" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT8yk8DfEK3_p00rFA6v0HmoRRBUnofgIJkIe5ABarDJqJF3V3_">
    <img id="glass" crossorigin="anonymous" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTXhbpfWPwlvkCP7xAgq00gumbFRQ6q-eUNH4a9LUrIXs--J7ac">
    <img id="rust" crossorigin="anonymous" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSeeEo19vWWDeLx2o9a0ypIUv4qvpDAWcRa_AAo3UI2-nF_2Nus">
    <img id="leaves" crossorigin="anonymous" src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcTFECvldc9ayjqk6jZUFhHyLyhNJFXlp9Y7Fb6EuqTjw5BJE5J8KQ">
    <img id="branches" src="branches_green.jpg">
    <img id="mix" crossorigin="anonymous" src="https://us.v-cdn.net/5021068/uploads/editor/f0/6kymf4lg6ium.jpg">
    <img id="coral" src="coral.png">

  </a-assets>



  <!-- The world -->
  <a-entity light="type: ambient; intensity: 0.5"></a-entity>
  <a-sky src="#stars"></a-sky>
  <a-plane src="#groundTexture" rotation="-90 0 0" width="30" height="30"></a-plane>


  <!-- The Glass Bead -->
  <!-- Note: color of material and color of light are completely independent -->
  <a-sphere position="0 3 0"
            geometry="primitive: sphere; radius: 1.5"
            material="transparent: true; opacity: 0.25; color: #FFF; metalness: .5"
            light="color: #fff; distance: 120; intensity: 0.0; type: point"></a-sphere>

  <!-- The camera is right in front of TheWoods -->
  <!-- The camera is right in front of TheWoods -->
  <a-entity rotation="0 {{([0, 1, 2] | random) * 120}} 0">
    <a-entity position="0 0 -5">
      <a-camera></a-camera>
    </a-entity>
  </a>

  {% include "the-woods.njk.html" %}

  <!-- Reef Corps -->
  <a-entity rotation="0 120 0">
    <a-entity position="0 0 -10">
      <a-cone position="0 1 0" rotation="10 10 170" height="1.5" geometry="radiusBottom:0.4" color="magenta" material="metalness: .2">
        <a-animation attribute="position" from="0 .75 0" to="0 1.25 0" dur="10000" repeat="indefinite" direction="alternate"></a-animation>
      </a-cone>
      <a-torus mixin="house" rotation="50 -140 -115" position="0 1 0" radius="0.75" src="#coral" arc="360" radiustubular=".1" shadow="" material="" light="" geometry="radiusTubular:0.1"></a-torus>

      <a-text mixin="title" value="ReefStructure" align="center"></a-text>
      <a-text mixin="members" value="Sebastian Benthall, Commander" align="center"></a-text>

      <a-entity mixin="score"
                text="value: 3,000; wrapCount: 5; color: magenta" ></a-entity>

      {% include "brillish.njk" %}
    </a-entity>
  </a-entity>
<a-entity gltf-model="#passion_ball" position="0 5 0" scale=".03 .03 .03">
  <a-animation attribute="rotation" dur="4000"
         fill="forwards"
         to="0 180 0"
         repeat="indefinite"></a-animation>
</a-entity>
  <!-- フルーツ　Paradise - note, A-Frame is racist, so doesn't handle utf-8 by default -->
  <a-entity rotation="0 -120 0">
    <a-entity position="0 0 -10">
      <a-torus-knot mixin="house" position="0 1 0" radius="0.4" height="1.5" color="gold" shadow src="#rust">
      <a-animation attribute="rotation" dur="500"
         fill="forwards"
         to="180 360 90"
         repeat="indefinite"></a-animation></a-torus-knot>
      <a-text mixin="title" value="FruitsParadise" align="center"></a-text>
      <a-text mixin="members" value="Madoka Wada, Symbol" align="center"></a-text>

      <a-entity mixin="score"
                text="value: 3; wrapCount: 1; color: gold" ></a-entity>
    </a-entity>
  </a-entity>

  </a-scene>
