<!doctype html>
<head>
</head>
<body>
    <script>
    const notes = [523.25, 587.33, 659.25, 698.46, 783.99, 880.00, 987.77, 1046.50];
    const names = ['do', 're', 'mi', 'fa', 'so', 'la', 'ti', 'do'];
    // TODO
    const namedNotes = {};
    // Start off by initializing a new context.
    const audioContext = new (window.AudioContext || window.webkitAudioContext)();
    const startTime = audioContext.currentTime;
    const note = audioContext.createOscillator();
    const gain = audioContext.createGain();
    gain.gain.setValueAtTime(0.3, startTime);
    note.connect(gain);
    gain.connect(audioContext.destination);
    const note2 = audioContext.createOscillator();
    const gain2 = audioContext.createGain();
    gain2.gain.setValueAtTime(0.3, startTime);
    note2.connect(gain);
    gain2.connect(audioContext.destination);
    const note3 = audioContext.createOscillator();
    const gain3 = audioContext.createGain();
    gain3.gain.setValueAtTime(0.3, startTime);
    note3.connect(gain);
    gain3.connect(audioContext.destination);
    // notes.map((freq, i) => 
    //    note.frequency.setValueAtTime(freq, startTime + i));
    // notes.reverse().map((freq, i) => 
    //    note2.frequency.setValueAtTime(freq, startTime + i));
    note.frequency.setValueAtTime(notes[0], startTime);
    note2.frequency.setValueAtTime(notes[2], startTime);
    note3.frequency.setValueAtTime(notes[4], startTime);
    note.start();
    note2.start();
    note3.start();
    //note.stop(startTime + notes.length);
    //note2.stop(startTime + notes.length);
    //note3.stop(startTime + notes.length);
    note.stop(startTime + 2);
    note2.stop(startTime + 2);
    note3.stop(startTime + 2);

    // function toggleNote(osc) {
    //     if note.
    // }

    </script>

    <button onclick="note.stop(0)">Play/pause</button>
</body>
